page 81

Docker 大体执行 dockerfile 的流程如下：

- Docker 从基础镜像运行一个容器
- 执行一条指令，对容器做出修改
- 执行类似 docker commit 的操作，提交一个新的镜像层
- Docker 再基于刚提交的镜像运行一个新容器
- 执行 Dockefile 中的下一条指令，直到所有指令都执行完毕。


page 81

命令 COPY

文件路径必须是一个与当前构建环境相对的文件或者目录，本地文件都放到和 Dockerfile 同一个目录下。

不能复制该目录之外的任何文件，因为构建环境将会上传到 Docker 守护进程，而复制是在 Docker 守护进程中进行的。任何位于构建环境之外的东西都是不可用的。